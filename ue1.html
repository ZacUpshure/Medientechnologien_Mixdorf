<html>
<head>
<title></title>
<link rel="stylesheet" type="text/css" href="format.css">
<style type="text/css">
        /* <!--
                 a:link {font-family:Arial;        font-size:10pt;        text-decoration:none;}
                a:visited {font-family:Arial; font-size:10pt; text-decoration:none;}
                a:hover {color:#FF3333; text-decoration:none; font-weight:normal; font-size:10pt;}
        //--> */
</style>
</head>

<body>

<iframe src="oben.html" width="800" height="120" name="IFrame3" id="IFrame3" scrolling="no" frameborder="0">
         <p>Ihr Browser kann leider keine eingebe5tteten Frames anzeigen:Sie k&ouml;nnen die eingebettete Seite &uuml;ber den
         folgenden.</p>
</iframe>

<h2>&Uuml;bung 1</h2>

<h3>Aufgabe 1</h3>
<p>1.a) Musikaufnahmen 16bit Aufl&ouml;sung:
        <br>
        Musik_44,1kHz_stero 
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        Sprache_8kHz_mono
</p>
<audio controls><source src="./audio/Musik_06.wav" type="audio/wav"></audio>
<audio controls><source src="./audio/Sprache_06.wav" type="audio/wav"></audio>
<br><br>
<p>1.b) Bescheibung zu unterschiedlichen Abtastfrequenzen:</p>
<p>Die Abtastfrequenzen sind unterschiedlich, da die Musikdatei verglichen mit der reinen Sprachdatei ein gr&ouml;ßeres Spektrum besitzt <br> und so bsw. mehr Frequenzhöhen und Frequenztiefen abgebildet werden k&ouml;nnen.
 <br>
 Der Mensch kann Frequenzen bis ca. 20kHz wahrnehmen. <br> Aus dem Grund werden Audioaufnahmen mit 44.1kHz bzw. 48kHz abgetastet. 
 <br>
 F&uuml;r die Sprahce hingegen ist eine Abtastfrequenzen von 8khz ausreichend.  
</p>

<p>1.c) Headerangaben</p>
<p>Beschreibung der Headerangaben:
        <br>- Channels: wie viele Kan&auml;le (Mono=1Kanal, Stero=2Kan&auml;le)
        <br>- Frames: die Anzahl an einzelnen Frames (Abtastpunkte)
        <br>- Sample Rate: wie oft wird der Audio-Pegel in einer Sekunde erfasst (Abtastrate)
        <br>- Valid Bits: wie viel Speicher f&uml;r einen Sample-Wert genutzt werden kann
        <br>- Bytes per sample : Speicher pro Sample in Byte (1 Byte = 8 Bit)
</p>

<td><img src="./pics/screen_musik_06.png" aria-label="Headerangaben Musik_06" alt="Musik_06" width="200" height="150"></td>
<!-- <span>Headerangaben Musik_06</span> -->
<td><img src="./pics/screen_sound_06.png" aria-label="Headerangaben Sound_06" alt="Sound_06" width="200" height="150"></td>
<!-- <span>Headerangaben Sound_06</span> -->

<p>1.d) Bitratenberechnung
        <br>(Bitrate = Kan&auml;le x Aufl&ouml;sung x Samplerate )
</p>
<p>-F&uuml;r Musik_06.wav : 2 KanÃ¤le x 16 Bit x 44,1 kHz = 1411,2 kBit/s
        <br>-F&uuml;r Sprache_06.wav : 1 Kanal x 16Bit x 8 kHz = 128 kBit/s</p>

<h3>Aufgabe 2</h3>
<p>2.a) Samples der Sinusdateien lesbar machen (ASCII-Datei)</p>
<p>Sinusdateien : 
<br>
sine_hi03.wav
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
sine_lo05.wav
</p>
<audio controls><source src="./audio/sine_hi03.wav" type="audio/wav"></audio>
<audio controls><source src="./audio/sine_lo05.wav" type="audio/wav"></audio>
<br>
<p>Samling-Frequenz: 16 kHz</p>
<p>resultierenden Zahlenfolgen aus der ASCII-Datei</p>

<img src="./pics/sine_hi03_lo05_ascii.png"  alt="hi06_lo05_ascii" width="600" height="300">

<p>Bestimmung der Frequenz der Sinus-Schwingungen.</p>

<p>     Sinus-Schwingung: sine_lo05 <br>
        Um die Frequenz abzulesen muss man die Amplitude ermitteln. <br>
        Da das Sample 16.069 zweimal hintereinander folgt ist davon auszugehen, dass die Amplitude genau zwischen diesen beiden Werten liegt. <br>
        Jeder Wert in der Datei ist ein Sample also ist die Schwingungsdauer von einer Amplitude zur n&auml;chsten. <br>
        Die n&auml;chste Amplitude liegt dann auch wieder zwischen diesen beiden Werten. <br>
        Zaehlt man nun die Samles von einer zur naechsten Amplitude kommt man auf 15 + die 2 halben, also 16. <br>
        16.000 / 16 = 1000 <br>
        Damit liegt die Frequenz der sine_lo05 bei 1kHz.
</p>
<p>
        Sinus-Schwingung: sine_hi03 <br>
        Das ganze &auml;hnlich zur sine_hi03. Von Sample 15.137 bis 15.137 zaehlt man 3 Samples. <br>
        16.000 / 3 = ~5.333 <br>
        Damit liegt die Frequenz der sine_hi03 bei ca 5,3 kHz.     
</p>
<!-- von Arron 
<p>Code: 
        <br/>
        // 2a Samples schreiben	<br/>
        for (int i=0; i < samples;i++) {<br/>
                System.out.println(readWavFile.sound[i]);<br/>
        }<br/>
</p>
-->
<br>
<p>2.b) Überprüfung der Sch&auml;tzung aus 2a mit GRAM(Spektralanalyse-Tool)</p>
<p>Einstellungen Gram: Freq Scale: Linear, FFT Size: 512, Time scale: 1msec</p>


<img src="./pics/sine_hi03_gram.png"  alt="hi03_gram" width="350" height="250">
<img src="./pics/sine_lo05_gram.png"  alt="lo05_gram" width="350" height="250">
<p>
        sine_hi03.wav = 6 kHz
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        sine_lo05.wav = 1 kHz
</p>
<br>
<p>2.c) Das Abtasttheorem</p>
<p>
        "Wenn ein kontinuierliches Signal mit einer oberen Grenzfrequenz von fmax mit einer Abtastrate 
        von mehr als 2*fmax abgetastet wird, kann man das Ursprungssignal ohne Informationsverlust aus dem 
        abgetasteten Signal rekonstruieren" 
        <i> Malaka, R., Butz A. & Hußmann, H. (2009). Medieninformatik: Eine 
        Einf&uuml;rung (2. Aufl.). Deutschland: Pearson Studium, S.63</i>
        <br><br>
        Dementsprechend muss die Abtastfrequenz mindestens das doppelte der Signalfrequenz sein (fa >= 2 * fmax),
        da sonst keine richtige Rekonstruktion möglich und die rekonstruierte Signalfrequenz wäre tiefer.
        <br>
        Der Grenzfall wäre somit wenn die Frequenz mit nur genau (fa = 2 * fmax) abgetastet werden würde.
</p>
<img src="./pics/skizze_grenze.png"  alt="Grenze-Abtasttheorem" width="300" height="200">
<span>Skizze Grenze-Abtasttheorem </span>
<br><br>

<p>2.d) Aliasing erfolgreich verhindern</p>
<p>
        Um kein Aliasing zu bekommen entfernt man am Anfang, mit einem Tiefpassfilter, die zu hohen Frequenzen. 
        Der Tiefpassfilter filtert alle Frequenzen die größer als die Hälfte der Signalfrequenz sind. 
        Dann kann man den erhaltene Teil spiegeln und rekonstruieren. 
        <br>
        Durch diese Vorbehandlung entstehen bei der späteren Abtastung kein Aliasing, wodurch es dann keine Verzerrung im Audio gibt.
</p>

<p>2.e) Downsamling</p>
<p>Modifiziere wave_io dahingehend, dass vom eingelesenen Audiosignal jeder zweite Abtastwert verworfen wird und das resultierende Signal abgespeichert wird.
         Der Header muss natürlich entsprechend verändert werden!
</p>
<p>Code</p>
<p>
    			// 2e Downsampling <br/>
			int downsample_rate = 2;<br/>
			for (int i=0; i < (samples/2); i++) {<br/>
				readWavFile.sound[i] = readWavFile.sound[i*downsample_rate];
				
			}<br/>
			sampleRate /= downsample_rate ;<br/>
			numFrames /= downsample_rate;<br/> 
</p>


<p>2.f) Downsamling Sinusdateien</p>
<p>Welche Frequenzen erscheinen nach dem Down-Sampling? Was würde passieren, wenn man geeignet bandbegrenzen würde?</p>

<p>2.g) Downsamling Sprachdatei</p>
<p>Beschreibe, wie sich der Klang verändert. Erkläre, warum das passiert! </p>

<br><h3>Aufgabe 3 - 3.1</h3>
<p>Loesung</p>

</body>
</html>
